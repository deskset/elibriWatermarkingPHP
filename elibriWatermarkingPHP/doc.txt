/*! \mainpage Biblioteka do obsługi API watermarkingu eLibri
 *
 * \section intro_sec Wprowadzenie
 *
 * <a href='https://www.elibri.com.pl'>eLibri</a> jest systemem stworzonym dla wydawnictw,
 * które mogą za jego pośrednictwem sprzedawać swoje ebooki na swoich stronach internetowych,
 * jak i na stronach współpracująch firm. 

 * \section install_sec Instalacja
 *
 * Biblioteka jest dystrybuowana jako pakiet PEAR. Najpierw musisz zarejestrować kanał elibri: 
 * \verbatim pear channel-discover elibri.com.pl/system/pear \endverbatim
 *
 * Następnie instalujesz pakiet poprzez:
 * \verbatim  pear install channel://elibri.com.pl/system/pear/elibriWatermarkingPHP-0.2.6 \endverbatim
 *
 * Rozwój pakietu możesz śledzić na <a href='https://github.com/elibri/elibriWatermarkingPHP'>githubie</a>
 *
 * Jeśli używasz czytnika rss, to możesz zaabonować <a href='https://www.elibri.com.pl/system/pear/feed.xml'>ten kanał</a>.
 *
 * \section usage_sec Użycie biblioteki
 * 
 * Poprzez API zlecasz watermarking książki, podając jej identyfikator (ISBN lub 
 * <a href='https://www.elibri.com.pl/doc/api/onix_record_identifiers'>record reference</a>), formaty (po przecinku, na ogół 'epub,mobi', 
 * widoczny watermark, który jest umieszczony na końcu każdego rozdziału, oraz krótki tekst, który jest dołączany do tytułu książki.
 *
 * Zwatermarkowany plik jest umieszczany w buckecie na S3 amazonu, z którego zlecający powinien pobrać plik, a następnie go wykasować.
 *
 * Żeby używać API, proszę do nas napisać na adres kontakt@elibri.com.pl. Otrzymacie:
 *  - publiczny i prywatny token do podpisywania zleceń watermarkingu
 *  - publiczny i prywatny token pozwalający na odczytywanie i wykasowywanie plików z S3
 *  - nazwę bucketu na S3, na którym będą umieszczane zwatermarkowane pliki.
 * 
 * Następnie niezbędne jest podpisanie umów z wydawnictwami, których pliki mają być sprzedawane z pośrednictwem systemu eLibri.
 *
 * API watermarkingu jest maksymalne proste, składa się z trzech podstawowych wywołań: \b watermark, \b deliver oraz \b retry. Metody te są oferowane przez klasę ElibriWatermarkingClient
 *
 * \subsection watermark
 * Sugerujemy, żeby zlecenie watermarkingu książki odbyło się jak najwcześniej, żeby klient jak najkrócej czekał na dostarczenie pliku.
 * Wysłanie zlecenia watermarkingu nie rejestruje transakcji w systemie, można więc je wysłać w momencie, kiedy klient opuszcza koszyk,
 * i przechodzi do płacenia. Zwatermarkowany plik jest udostępniany sklepowi dopiero po wykonaniu metody deliver. 
 *
 * \subsection deliver
 * Deliver skutkuje zarejestrowaniem transakcji w systemie, oraz dostarczeniem pliku lub plików do przypisanego sklepowi bucketu na S3.
 * Sklep powinien na tym etapie mieć potwierdzenie dokonania płatności, ponieważ wydawnictwo obarczy go fakturą za dokonaną transakcję.

 * Oczywiście może się zdarzyć sytuacja, że sklep zleci watermarkowanie, a nie wywoła metody deliver, bo klient nie dokonał płatności.
 * W takiej sytuacji transakcja zostaje anulowana, i żadna ze stron nie zostanie obciążona.
 * Wywołanie deliver musi następić w ciągu siedmiu 7 dni od wywołania watermark.
 *
 * Po umieszczeniu pliku na S3 nasz serwer łączy się z przekazanym przez Państwa URL-em (metoda POST), przekazując w parametrze trans_id 
 * identyfikator transakcji, która została ukończona. 
 *
 * \section retry
 * Sklep jest zobowiązany do przetrzymywania zwatermarkowanego pliku przynajmniej przez 7 dni. Po tym czasie maleje prawdopodobieństwo, że klient będzie chciał
 * pobrać plik, poza tym przechowywanie wszystkich zakupionych plików może stać się kłopotliwe w dłuższej perspektywie. Retry służy do ponowienia transakcji
 * (niezbędne jest tutaj podanie alfanumerycznego identyfikatora transakcji zwróconego przez metodę watermark). Plik zostanie zwaterkowany na nowo
 * z parametrami podanymi podczas pierwszego wywołania watermark. Zwracany jest nowy identyfikator transakcji. Sklep w swoim systemie może nadpisać poprzedni
 * identyfikator transakcji, albo przechowywać całą historię numerów transakcji. Jeśli retry jest wywoływany kolejny raz, to należy zawsze podać
 * ostatni identytikator transakcji. Po każdym wywołaniu retry należy wywołać metodę deliver ze zwróconym trans_id.
 *
 *
 * \section av_files Lista dostępnych produktów
 * Można również pobrać listę dostępnych plików dla założenego klienta (uzwględnia ona przypisanych wydawców, oraz daty premier)
 * Uwzględnia on również książki, dla których są wgrane wszystkie pliki, ale nie nastąpiła jeszcze jej premiera (wtedy ustawione jest pole available_date)
 * Służy do tego metoda ElibriWatermarkingClient#available_files
 *

 * \section Przykłady
 *
 * \subsection example1 Przykład 1
 *
 * W poniższym przykładzie zlecasz watermarkowanie i dostarczenie pliku na S3.
 *
 * \include watermarking_example.php
 *
 * \subsection example2 Przykład 2
 * Ściąganie pliku mobi z S3, nazwa pliku na S3 to numer transakcji plus odpowiednie rozszerzenie
 *
 * \include s3_example.php
 */
